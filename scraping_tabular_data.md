# Importing tabular and Excel files stored online

[R Vocab Topics](index) &#187; [Importing, Scraping, and exporting data](data_inputs_outputs) &#187; [Scraping data](scraping_data) &#187; Importing tabular and Excel files stored online

Rapid growth of the World Wide Web has significantly changed the way we share, collect, and publish data. Vast amount of information is being stored online, both in structured and unstructured forms.  Regarding certain questions or research topics, this has resulted in a new problem - no longer is the concern of data scarcity and inaccessibility but, rather, one of overcoming the tangled masses of online data.

Collecting data from the web is not an easy process as there are many technologies used to distribute web content (i.e. [HTML](https://en.wikipedia.org/wiki/HTML), [XML](https://en.wikipedia.org/wiki/XML), [AJAX](https://en.wikipedia.org/wiki/Ajax_(programming)), [JSON](https://en.wikipedia.org/wiki/JSON)).  Therefore, dealing with more advanced web scraping requires familiarity with these technologies.  Through the next series of posts I plan to provide an introduction to some of the fundamental tools required to perform basic web scraping.  These topics will be discussed at a level meant to get you started in web scraping; however, to advance your knowledge I highly recommend getting copies of [*XML and Web Technologies for Data Sciences with R*](http://www.amazon.com/XML-Web-Technologies-Data-Sciences/dp/1461478995) and [*Automated Data Collection with R*](http://www.amazon.com/Automated-Data-Collection-Practical-Scraping/dp/111883481X/ref=pd_sim_14_1?ie=UTF8&dpID=51Tm7FHxWBL&dpSrc=sims&preST=_AC_UL160_SR108%2C160_&refRID=1VJ1GQEY0VCPZW7VKANX).

The most basic form of getting data from online is to import tabular (i.e. .txt, .csv) or Excel files that are being hosted online. This is often not considered *web scraping*[^auto2]; however, I think its a good place to start introducing the user to interacting with the web for obtaining data. Importing tabular data is especially common for the many types of government data available online.  A quick perusal of [Data.gov](https://www.data.gov/) illustrates nearly 188,510 examples. In fact, we can provide our first example of importing online tabular data by downloading the Data.gov CSV file that lists all the federal agencies that supply data to Data.gov. 




```r
# the url for the online CSV
url <- "https://www.data.gov/media/federal-agency-participation.csv"

# use read.csv to import
data_gov <- read.csv(url, stringsAsFactors = FALSE)

DT::datatable(data_gov)
```

<!--html_preserve--><div id="htmlwidget-1388" style="width:100%;height:auto;" class="datatables"></div>
<script type="application/json" data-for="htmlwidget-1388">{"x":{"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503"],["Commodity Futures Trading Commission","Consumer Financial Protection Bureau","Consumer Financial Protection Bureau","Corporation for National and Community Service","Court Services and Offender Supervision Agency","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Agriculture","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Commerce","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Defense","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Education","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Energy","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Health and Human Services","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Homeland Security","Department of Housing and Urban Development","Department of Housing and Urban Development","Department of Housing and Urban Development","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Justice","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of Labor","Department of State","Department of State","Department of State","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Transportation","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of Veterans Affairs","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Interior","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Department of the Treasury","Election Assistance Commission","Environmental Protection Agency","Environmental Protection Agency","Environmental Protection Agency","Environmental Protection Agency","Environmental Protection Agency","Environmental Protection Agency","Environmental Protection Agency","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Executive Office of the President","Export-Import Bank of the US","Export-Import Bank of the US","Federal Communications Commission","Federal Deposit Insurance Corporation","Federal Election Commission","Federal Housing Finance Agency","Federal Housing Finance Agency","Federal Reserve Board","Federal Trade Commission","General Services Administration","General Services Administration","Institute of Museum and Library Services","Institute of Museum and Library Services","Merit Systems Protection Board","Millenium Challenge Corporation","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Aeronautics and Space Administration","National Archives and Records Administration","National Archives and Records Administration","National Archives and Records Administration","National Archives and Records Administration","National Capital Planning Commission","National Endowment for the Humanities","National Endowment for the Humanities","National Labor Relations Board","National Science Foundation","National Science Foundation","National Science Foundation","National Science Foundation","National Transportation Safety Board","Nuclear Regulatory Commission","Nuclear Regulatory Commission","Nuclear Regulatory Commission","Occupational Safety and Health Review Commission","Office of Navajo and Hopi Indian Relocation","Office of Personnel Management","Office of Personnel Management","Overseas Private Investment Corporation","Pension Benefit Guaranty Corporation","Pension Benefit Guaranty Corporation","Pension Benefit Guaranty Corporation","Pension Benefit Guaranty Corporation","Railroad Retirement Board","Railroad Retirement Board","Securities and Exchange Commission","Selective Service System","Small Business Administration","Small Business Administration","Social Security Administration","Social Security Administration","US Agency for International Development","US Agency for International Development","US Consumer Product Safety Commission","US Equal Employment Opportunity Commission","US Equal Employment Opportunity Commission","US International Trade Commission","US International Trade Commission","US International Trade Commission","US International Trade Commission","US Office of the Special Counsel"],["","","Consumer Financial Protection Bureau","","","","Agricultural Marketing Service","Agricultural Marketing Service, Department of Agriculture","Agricultural Research Service","Agricultural Research Service, Department of Agriculture","Animal and Plant Health Inspection Service","Animal and Plant Health Inspection Service, Department of Agriculture","Department of Agriculture","Department of Agriculture, OCIO","Departmental Management, Department of Agriculture","Economic Research Service, Department of Agriculture","Economic Research Service, U.S. Department of Agriculture","Economic Research Service, US Department of Agriculture","Farm Service Agency","Farm Service Agency, Department of Agriculture","Federal Grain Inspection Service","Food Safety and Inspection Service","Food Safety and Inspection Service, Department of Agriculture","Food Safety and Inspection Service, United States Department of Agriculture","Food and Nutrition Service","Food and Nutrition Service, Department of Agriculture","Foreign Agricultural Service","Foreign Agricultural Service","Foreign Agricultural Service, Department of Agriculture","NRCS","National Agricultural Statistics Service","National Agricultural Statistics Service, Department of Agriculture","National Appeals Division, Department of Agriculture","National Institute of Food and Agriculture, Department of Agriculture","Natural Resources Conservation Service, Colorado State University","Office of Chief Information Officer","Packers and Stockyards Program","Packers and Stockyards Programs","Rural Development, Department of Agriculture","U. S. Department of Agriculture","US Forest Service","US Forest Service, Department of Agriculture","USDA Economic Research Service","USDA-GIPSA","United States Department of Agriculture","","Bureau of Economic Analysis","Bureau of Industry and Security, Department of Commerce","Department of Agriculture and Board of Trustees of Michigan State University","Department of Commerce","HUD","International Trade Administration","International Trade Administration, Department of Commerce","National Institute of Standards and Technology","National Oceanic and Atmospheric Administration","National Oceanic and Atmospheric Administration","National Technical Information Service, Department of Commerce","National Telecommunication and Information Administration","National Telecommunication and Information Administration, Department of Commerce","National Weather Service, Department of Commerce","OFFICE OF  INSPECTOR GENERAL","OFFICE OF INSPECTOR GENERAL","Office of Inspector General","Office of the Inspector General","Officer of Inspector General","Officie of Inspector General","U.S. Census Bureau, Department of Commerce","U.S. Census Bureau, U.S. Department of Commerce","U.S. Department of Commerce","US Census Bureau","US Census Bureau,","US Census Bureau, Department of Commerce","US Census Bureau, US Department of Commerce","US Patent and Trademark Office, Department of Commerce","University of Maryland","Wisconsin Alumni Research Foundation","","Acquisition Technology and Logistics","Defense Health Agency","Defense Logistics Agency","Defense Technical Information Center","Department of Defense","Department of the Air Force","Department of the Army","Department of the Navy","Federal Voting Assistance Program","National Geospatial-Intelligence Agency","US Army Corps of Engineers","","Federal Student Aid","Grants and Campus Based Division","Institute of Museum and Library Services","National Center for Education Evaluation and Regional Assistance","National Center for Education Statistics","National Center for Special Education Research","Office for Civil Rights","Office of Career, Technical, and Adult Education","Office of Elementary and Secondary Education","Office of Federal Student Aid","Office of Innovation and Improvement","Office of Language Acquisition","Office of Migrant Education","Office of Planning, Evaluation, and Policy Development","Office of Postsecondary Education","Office of Safe and Healthy Students","Office of Special Education Programs","Office of Special Education and Rehabilitative Services","Office of Vocational and Adult Education","Office of the Chief Information Officer","Operations Performance Division","Program Compliance School Participation Division","U.S. Department of Education","","AltaRock Energy Inc","Argonne National Laboratory","Beowawe Power LLC","Bob Lawrence and Associates, Inc.","DOE","DOE ARPA-E","DOE Congressional and Intergovernmental Affairs","DOE Electricity Delivery and Energy Reliability","DOE Energy Policy and Systems Analysis","DOE General Counsel","DOE Indian Energy Policy and Programs","DOE Inspector General","DOE Intelligence and Counterintelligence","DOE International Affairs","DOE Loan Programs Office","DOE Nuclear Energy","DOE Oak Ridge Associated Universities/ORISE","DOE Offfice of General Council","DOE Office of Chief Financial Officer","DOE Office of Chief Human Capital Officer","DOE Office of Chief Information Officer","DOE Office of Legacy Management","DOE Office of Nuclear Energy","DOE Office of Science","DOE Office of Science and Technical Information","DOE Office of Scientific and Technical Information","DOE Public Affairs","DOE Small and Disadvantaged Business Utilization","DOE/Environmental Management Consolidated Business Center","DOE/Office of Environmental Management","DOE/Office of Fossil Energy","DOE/Office of Hearings and Appeals","DOE/Richland Operations and the Office of River Protection","Department of Energy","Department/Agency level/No publisher","District Energy Corporation","ElectraTherm, Inc.","GE Global Research","Gas Equipment Engineering Corporation","Geothermal Technical Partners, Inc.","Geysers Power Company, LLC","Hattenburg Dilley and Linnell","Idaho National Laboratory","Impact Technologies LLC","Lawrence Berkeley National Laboratory","Lawrence Livermore National Laboratory","Los Alamos National Laboratory","National Energy Technology Laboratory (NETL)","National Nuclear Security Administration","National Nuclear Security Administration/LANL","National Nuclear Security Administration/SNL","National Renewable Energy Laboratory","Navy Geothermal Program Office","Nevada Geothermal Power Company","New Mexico Bureau of Geology and Mineral Resources","Oak Ridge National Laboratory","Office of Civil Rights","Office of Energy Efficiency &amp; Renewable Energy (EERE)","Office of Information Resources","Ormat Nevada Inc","Oski Energy LLC","Pacific Northwest National Laboratory","Ram Power, Inc.","SMU Geothermal Laboratory","Sandia National Laboratories","Simbol, Inc","SmartGrid.gov","Southern Research","Terra-Gen Sierra Holdings, LLC","Tusaar Corp.","U.S. Department of Energy (DOE)","U.S. Energy Information Administration","U.S. Office of Technology Transitions","United States Geological Survey","University of California Davis","University of Hawaii","University of Nevada Reno","University of Wisconsin","Utah State University","Wind Powering America","Wright State University","","Administration for Children and Families","Administration for Children and Families, Department of Health &amp;amp; Human Services","Administration for Community Living, Department of Health &amp;amp; Human Services","Agency for Healthcare Research and Quality","Agency for Healthcare Research and Quality, Department of Health &amp;amp; Human Services","Centers for Disease Control and Prevention","Centers for Disease Control and Prevention, Department of Health &amp;amp; Human Services","Centers for Medicare &amp;amp; Medicaid Services, Department of Health &amp;amp; Human Services","Centers for Medicare and Medicaid Services","City of Boston","City of Chicago","City of San Francisco","Department of Health &amp;amp; Human Services","Department of Health &amp;amp; Human Services, Office of Medicare Hearings and Appeals","Health Resources and Services Administration, Department of Health &amp;amp; Human Services","HealthData.gov","Indian Health Service, Department of Health &amp;amp; Human Services","National Cancer Institute, National Institutes of Health","National Institute on Drug Abuse, National Institutes of Health","National Institutes of Health","National Institutes of Health","National Institutes of Health, Department of Health &amp;amp; Human Services","National Library of Medicine, National Institutes of Health","Office of Inspector General, Department of Health &amp;amp; Human Services","Office of the National Coordinator for Health Information Technology, Department of Health &amp;amp; Human Services","State of California","State of Colorado","State of Hawaii","State of Illinois","State of Maryland","State of Missouri","State of Oklahoma","State of Oregon","State of Washington","Substance Abuse &amp;amp; Mental Health Services Administration, Department of Health &amp;amp; Human Services","Substance Abuse and Mental Health Services Administration","U.S. Food and Drug Administration, Department of Health &amp;amp; Human Services","US Department of Agriculture","healthdatagov.prod.acquia-sites.com","","Citizenship and Immigration Services, United States","Coast Guard, United States","Department/Agency level/No publisher","Federal Emergency Management Agency","Federal Emergency Management Agency","Health Affairs, Office of","Immigration and Customs Enforcement, United States","Policy","Secret Service, United States","Transportation Security Administration","U.S. Customs and Border Protection","Under Secretary / Management","","US Bureau of the Census","US Department of Housing and Urban Development","","AFP - Asset Forfeiture Program","ATF - Bureau of Alcohol, Tobacco, Firearms and Explosives","ATR - Antitrust Division","BJS - Bureau of Justice Statistics","BOP - Bureau of Prisons","CIV - Civil Division","COPS - Community Oriented Policing Services","CRM - Criminal Division","CRS - Community Relations Service","CRT - Civil Rights Division","DEA - Drug Enforcement Administration","DOJ","ENRD - Environment and Natural Resources Division","EOIR - Executive office for Immigration Review","EOUSA - Executive Office for United States Attorneys","FBI - Federal Bureau of Investigation","FPI - Federal Prisons Industries","ICPSR - Inter-university Consortium for Political and Social Research","INTERPOL Washington","JMD - Justice Management Division","NIJ - National Institute of Justice","NSD - National Security Division","OAAM - Office of Audit Assessment Management","OIG - Office of the Inspector General","OIP - Office of Information Policy","OJJDP - Office of Juvenile Justice and Delinquency Prevention","OJP - Office of Justice Programs","PPS - Policy, Planning and Strategy","TAX - Tax Division","USMS - United States Marshals Service","USPC - United States Parole Commission","USTP - U.S. Trustee Program","USTP - United States Trustee Program","United States Department of Justice. Office of Justice Programs. National Institute of Justice","","Employee Benefits Security Administration","U.S. Department of Labor Benefits.gov Program","U.S. Department of Labor Bureau of International Labor Affairs","U.S. Department of Labor Bureau of Labor Statistics","U.S. Department of Labor Chief Economist's Office","U.S. Department of Labor Employee Benefits Security Administration","U.S. Department of Labor Employment and Training Administration","U.S. Department of Labor Mine Safety and Health Administration","U.S. Department of Labor Occupational Safety and Health Administration","U.S. Department of Labor Office of Federal Contract Compliance Programs","U.S. Department of Labor Office of Job Corps","U.S. Department of Labor Office of Labor-Management Standards","U.S. Department of Labor Office of Public Affairs","U.S. Department of Labor Office of Worker's Compensation Program","U.S. Department of Labor Office of Workers' Compensation Program","U.S. Department of Labor Office of the Assistant Secretary for Policy","U.S. Department of Labor Office of the Solicitor","U.S. Department of Labor Wage and Hour Division","U.S. Department of Labor, Bureau of Labor Statistics","Wage and Hour Division","","Department/Agency level/No publisher","U.S. Department of State","","Department/Agency level/No publisher","Federal Aviation Administration","Federal Highway Administration","Federal Motor Carrier Safety Administration","Federal Railroad Administration","Federal Transit Administration","Maritime Administration","National Highway Traffic Safety Administration","Office of the Inspector General","Office of the Secretary of Transportation","Pipeline and Hazardous Materials Safety Administration","Research and Innovative Technology Administration","Saint Lawrence Seaway Development Corporation","Surface Transportation Board","","Department of Veteran Affairs","Department of Veterans Afairs","Department of Veterans Affairs","Environmental Protection Agency","National Cemetery Admiistration","National Cemetery Administation","National Cemetery Administration","National Cemtery Administration","OHRA","OI&amp;T","OIT","OPP","OSDBU","Office of General Counsel","Office of Information &amp; Technology (OI&amp;T)","Office of Management","Office of Small and Disadvantaged Business Utilization","Office of Small and Disadvantaged Business Utlization","Veterans Health Administration","","Bureau of Indian Affairs","Bureau of Indian Education","Bureau of Land Management","Bureau of Ocean Energy Management","Department/Agency level/No publisher","Federal Geographic Data Committee","Haskell Indian Nations University","National Park Service","Office of Hearings and Appeals","Office of the Solicitor","Southwestern Indian Polytechnic Institute","U.S. Geological Survey","US Bureau of Reclamation","US Fish and Wildlife Service","","Bureau of Engraving and Printing","Bureau of the Fiscal Service","Community Development Financial Institutions","Community Development Financial Institutions Fund","Council of the Inspector Generals","Department of Justice","Department of the Treasury","Federal Reserve Bank of New York","Financial Crimes Enforcement Network","IRS Research, Analysis, and Statistics (RAS) Statistics of Income(SOI)","Information Technology","OCC Public Affair Operations","OCC Public Affairs Operations","Office of Audit","Office of Communications","Office of Debt Management","Office of Financial Stability","Office of Foreign Assets Control","Office of IG","Office of Inspections and Evaluations","Office of Investigations","Office of Mission Support","Office of Privacy, Transparency and Records","TIGTA","TTB","United States Mint, Financial Department (CFO)","United States Mint, Sales and Marketing (SAM) Department","United States Mint. Sales and Marketing (SAM) Department","","","Department/Agency level/No publisher","Environmental Protection Agency","U.S. EPA Office of Environmental Information (OEI)","U.S. Environmental Protection Agency","U.S. Environmental Protection Agency, Office of Solid Waste and Emergency Response","US Environmental Protection Agency","","Council on Environmental Quality","Department/Agency level/No publisher","Office of National Drug Control Policy","Office of Science and Technology Policy","US Trade Representative","Various Agencies","White House","open.whitehouse.gov","","data.exim.gov","","","","","Federal Housing Finance Agency","","","","General Services Administration","","Institute of Museum and Library Services","","","","ASF","AWS NEX","Aeronautics Research Mission Directorate","Ames Research Center","Atmospheric Science Data Center","CDDIS","CDDIS-GSFC","Center Independent Research &amp;amp; Development","Center Innovation Fund","EOSDIS","GESDISC","GHRC","GSFC","Human Exploration and Operations Mission Directorate","International Astronomical Union (IAU) Working Group for Planetary System Nomenclature (WGPSN)","JPL","JSC","LAADS","LPDAAC","LaRC","MODAPS","Mission Support Directorate","N/A","NASA HQ","NASA/GSFC/SED/ESD/GCDC/GESDISC","NSIDC","National Aeronautics and Space Administration","OB.DAAC","OBPG","OCIO","ORNL_DAAC","Office of Safety and Mission Assurance","Office of the Chief Information Officer","Office of the Chief Technologist","PO.DAAC","SEDAC","Science Mission Directorate","Space Technology Mission Directorate","Systems Review Office","","National Archives and Records Administration","Office of Innovation","Office of the Federal Register","","","NEH","","","National Science Foundation","Office of Management and Budget","USASpending.gov","","","Nuclear Regulatory Commission","U.S Nuclear Regulatory Commission","","","","U.S. Office of Personnel Management","","","Department of Justice","PBGC","Pension Benefit Guaranty Corporation","","Railroad Retirement Board","","","","U.S. Small Business Administration","","Social Security Administration","","USAID","","","US Equal Employment Opportunity Commision","","Office of Tariff Affairs and Trade Agreements","Office of Unfair Import Investigations","Office of the Secretary",""],[3,2,2,3,1,698,43,42,12,43,1,3,5,2,1,39,52,1,25,85,1,2,1,1,89,11,1,1,6,29,1,6,1,1,1,4,1,2,21,7,75,74,1,5,2,63565,10,2,1,21,1,2,37,99,4,62532,1,2,30,11,1,1,52,3,1,1,1,1,4,501,1,173,34,36,1,1,381,1,1,12,5,222,32,74,21,7,3,3,301,5,1,14,2,146,1,7,6,19,5,16,2,2,1,4,11,24,2,13,4,1,1,14,1165,7,7,1,1,11,2,2,2,2,3,1,1,1,1,2,1,1,2,1,1,2,4,2,1,1,5,1,1,1,6,5,1,2,2,1,3,16,2,1,3,1,8,6,3,3,27,1,5,11,1,1,465,1,1,5,9,1,62,1,8,12,3,2,1,22,1,2,1,12,10,10,279,1,3,1,16,30,14,8,1,6,1828,1,80,6,1,13,193,49,82,1,13,42,28,655,1,19,2,1,2,2,1,2,13,26,7,3,157,25,51,153,79,20,35,5,17,11,1,15,13,3,8366,21,51,1,52,8115,2,8,73,1,8,28,6,173,1,172,1930,1,101,87,666,7,8,1,34,2,50,259,8,18,4,18,378,4,33,1,22,25,6,1,3,1,17,8,1,1,22,2,127,12,2,396,5,21,16,147,1,1,56,22,21,2,4,1,24,1,11,1,10,10,39,3,96,20,76,3599,57,357,398,62,70,235,33,163,3,509,48,1617,12,35,639,1,1,560,1,1,1,10,1,3,9,1,5,2,17,1,1,22,1,1,31267,1,1,95,64,6,16,1,1417,1,1,1,4769,14,24880,237,1,79,2,1,1,1,66,1,2,7,1,5,1,5,2,9,2,1,2,1,2,4,1,1,34,1,3,1,6,3226,1745,1460,1,1,7,12,173,101,20,1,6,17,1,4,23,1,1,12,3,4,2,2,5,6,96,96,42,42,3,3,31422,62,4,10,36,134,35,1,36,2,3,3925,2008,1,43,53,1,41,372,201,11,12,11,176,48,4,646,4408,7144,84,3,2222,2,2,22,1841,623,158,7036,1,68,38,1,29,4,7,7,56,112,110,1,1,22,34,33,1,3,4,186,186,3,14,1,1,12,9,9,21,9,42,42,904,904,182,182,7,91,91,3,1,1,1,3],["01/12/2014","09/26/2015","09/26/2015","01/12/2014","01/12/2014","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","08/21/2015","09/01/2015","12/01/2015","12/01/2015","12/01/2015","10/15/2015","12/01/2015","11/18/2015","12/01/2015","12/01/2015","11/18/2015","12/01/2015","12/01/2015","07/11/2014","11/18/2015","11/18/2015","11/18/2015","02/18/2015","12/01/2015","09/01/2015","12/01/2015","11/18/2015","12/01/2015","11/18/2015","11/18/2015","12/01/2015","12/01/2015","11/30/2015","12/01/2015","12/01/2015","11/18/2015","12/01/2015","12/04/2015","12/02/2015","09/17/2015","08/14/2015","12/02/2015","08/14/2015","12/02/2015","12/02/2015","12/03/2015","12/02/2015","11/18/2015","09/17/2015","09/17/2015","09/17/2015","09/17/2015","12/02/2015","12/02/2015","12/02/2015","12/02/2015","12/02/2015","12/02/2015","08/14/2015","08/14/2015","12/02/2015","12/04/2015","12/02/2015","12/02/2015","12/02/2015","12/02/2015","08/14/2015","08/14/2015","11/17/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","10/08/2015","11/17/2015","10/08/2015","10/01/2015","09/16/2015","10/01/2015","07/18/2015","04/01/2015","10/01/2015","03/13/2015","09/16/2015","10/01/2015","10/01/2015","09/01/2015","10/01/2015","10/01/2015","10/01/2015","09/28/2015","10/01/2015","10/01/2015","10/01/2015","10/01/2015","10/01/2015","09/01/2015","10/01/2015","07/01/2015","10/01/2015","11/29/2015","11/25/2015","08/21/2015","05/06/2015","05/06/2015","11/29/2015","11/25/2015","10/10/2015","11/25/2015","10/10/2015","11/17/2015","10/10/2015","10/10/2015","11/25/2015","10/10/2015","11/25/2015","11/25/2015","11/17/2015","11/25/2015","10/10/2015","10/10/2015","10/10/2015","11/25/2015","11/25/2015","11/25/2015","11/17/2015","11/17/2015","10/10/2015","10/10/2015","10/10/2015","11/17/2015","11/17/2015","10/10/2015","10/10/2015","11/25/2015","01/16/2015","05/06/2015","05/06/2015","05/06/2015","05/06/2015","05/06/2015","05/06/2015","05/06/2015","10/10/2015","05/06/2015","08/26/2015","07/31/2015","05/06/2015","11/17/2015","10/10/2015","10/10/2015","10/10/2015","11/25/2015","11/29/2015","06/16/2015","11/17/2015","11/17/2015","10/10/2015","11/25/2015","11/25/2015","07/03/2015","05/26/2015","10/10/2015","05/06/2015","10/10/2015","11/25/2015","10/10/2015","08/21/2015","11/17/2015","05/06/2015","11/29/2015","11/17/2015","10/10/2015","11/17/2015","05/06/2015","11/17/2015","11/17/2015","07/03/2015","11/17/2015","08/26/2015","08/21/2015","05/06/2015","12/06/2015","12/05/2015","10/31/2015","10/31/2015","10/31/2015","10/31/2015","12/06/2015","12/06/2015","10/31/2015","01/16/2015","12/06/2015","12/06/2015","12/06/2015","12/06/2015","12/06/2015","12/06/2015","06/19/2015","10/31/2015","10/31/2015","10/31/2015","12/06/2015","01/16/2015","12/06/2015","12/04/2015","10/31/2015","10/31/2015","12/06/2015","10/31/2015","12/06/2015","12/06/2015","12/06/2015","12/06/2015","10/31/2015","12/06/2015","11/26/2015","10/31/2015","01/12/2014","12/06/2015","10/31/2015","10/31/2015","11/24/2015","11/24/2015","11/24/2015","09/29/2015","11/24/2015","11/23/2015","08/31/2015","11/24/2015","11/24/2015","11/24/2015","11/24/2015","11/24/2015","11/24/2015","08/24/2015","08/24/2015","06/05/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","02/25/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","11/20/2015","10/28/2015","10/28/2015","09/16/2015","12/02/2015","08/24/2015","10/09/2015","12/02/2015","10/09/2015","10/09/2015","12/02/2015","10/09/2015","12/02/2015","10/09/2015","12/02/2015","12/02/2015","12/02/2015","10/09/2015","03/31/2015","12/02/2015","12/02/2015","10/29/2015","12/02/2015","10/30/2015","10/30/2015","10/30/2015","10/30/2015","10/30/2015","10/29/2015","10/29/2015","10/29/2015","10/29/2015","05/21/2015","10/29/2015","05/30/2015","05/21/2015","08/21/2015","08/13/2015","10/29/2015","12/06/2015","04/10/2014","01/12/2014","12/08/2014","11/25/2015","04/11/2015","10/28/2015","04/10/2014","08/31/2015","01/12/2014","01/12/2014","04/10/2014","12/06/2015","08/19/2015","12/05/2015","12/01/2015","11/18/2015","12/01/2015","11/18/2015","11/18/2015","12/01/2015","12/01/2015","12/01/2015","05/06/2015","05/06/2015","11/18/2015","12/01/2015","05/06/2015","05/06/2015","12/01/2015","12/01/2015","12/01/2015","05/06/2015","05/06/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","03/27/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","01/12/2014","12/05/2015","12/05/2015","12/05/2015","12/01/2015","12/05/2015","11/04/2015","12/05/2015","11/30/2015","01/16/2015","07/23/2015","01/12/2014","01/12/2014","01/12/2014","09/09/2015","01/12/2014","11/30/2015","05/06/2015","05/06/2015","01/16/2015","01/16/2015","01/16/2015","01/16/2015","01/16/2015","01/12/2014","06/03/2015","12/02/2015","12/02/2015","03/13/2015","03/13/2015","01/12/2014","01/12/2014","12/01/2015","11/25/2015","08/25/2015","07/08/2015","08/24/2015","11/25/2015","11/25/2015","11/25/2015","07/08/2015","07/08/2015","11/25/2015","12/01/2015","11/25/2015","11/25/2015","07/08/2015","08/25/2015","08/25/2015","08/24/2015","11/25/2015","11/25/2015","11/25/2015","11/25/2015","12/01/2015","12/01/2015","08/25/2015","11/25/2015","12/01/2015","11/25/2015","12/01/2015","11/25/2015","11/25/2015","12/01/2015","07/08/2015","07/08/2015","07/08/2015","12/01/2015","11/25/2015","07/09/2015","12/01/2015","07/08/2015","10/23/2015","10/23/2015","10/23/2015","10/23/2015","10/09/2014","11/26/2015","11/26/2015","01/12/2014","11/21/2015","11/21/2015","11/21/2015","11/21/2015","01/16/2015","08/21/2015","08/21/2015","08/21/2015","01/12/2014","01/12/2014","09/12/2015","09/12/2015","01/16/2015","10/17/2015","10/17/2015","10/17/2015","10/17/2015","05/07/2015","05/07/2015","01/12/2014","01/12/2014","11/26/2015","11/26/2015","12/01/2015","12/01/2015","12/01/2015","12/01/2015","01/12/2014","12/08/2014","12/08/2014","11/06/2015","11/06/2015","11/06/2015","11/06/2015","01/12/2014"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> </th>\n      <th>Agency.Name</th>\n      <th>Sub.Agency.Publisher</th>\n      <th>Datasets</th>\n      <th>Last.Entry</th>\n    </tr>\n  </thead>\n</table>","options":{"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false},"callback":null,"filter":"none"},"evals":[]}</script><!--/html_preserve-->


Downloading Excel spreadsheets hosted online can be performed just as easily.  Recall that there is not a base R function for importing Excel data; however, several packages exist to handle this capability.  One package that works smoothly with pulling Excel data from urls is [`gdata`](https://cran.r-project.org/web/packages/gdata/index.html).  With `gdata` we can use `read.xls()` to download this [Fair Market Rents for Section 8 Housing](http://catalog.data.gov/dataset/fair-market-rents-for-the-section-8-housing-assistance-payments-program) Excel file from the given url. 


```r
library(gdata)

# the url for the online Excel file
url <- "http://www.huduser.org/portal/datasets/fmr/fmr2015f/FY2015F_4050_Final.xls"

# use read.xls to import
rents <- read.xls(url)

rents[1:6, 1:10]
```



  fips2000    fips2010   fmr2   fmr0   fmr1   fmr3   fmr4   county   State   CouSub
----------  ----------  -----  -----  -----  -----  -----  -------  ------  -------
 100199999   100199999    788    628    663   1084   1288        1       1    99999
 100399999   100399999    762    494    643   1123   1318        3       1    99999
 100599999   100599999    670    492    495    834    895        5       1    99999
 100799999   100799999    773    545    652   1015   1142        7       1    99999
 100999999   100999999    773    545    652   1015   1142        9       1    99999
 101199999   101199999    599    481    505    791   1061       11       1    99999

Note that many of the arguments covered in the [Importing Data tutorial](http://bradleyboehmke.github.io/tutorials/importing_data#excel) (i.e. specifying sheets to read from, skipping lines) also apply to `read.xls()`. In addition, `gdata` provides some useful functions (`sheetCount()` and `sheetNames()`) for identifying if multiple sheets exist prior to downloading.

Another common form of file storage is using zip files.  For instance, the [Bureau of Labor Statistics](http://www.bls.gov/home.htm) (BLS) stores their [public-use microdata](http://www.bls.gov/cex/pumdhome.htm) for the [Consumer Expenditure Survey](http://www.bls.gov/cex/home.htm) in .zip files.  We can use `download.file()` to download the file to your working directory and then work with this data as desired.


```r
url <- "http://www.bls.gov/cex/pumd/data/comma/diary14.zip"

# download .zip file and unzip contents
download.file(url, dest="dataset.zip", mode="wb") 
unzip ("dataset.zip", exdir = "./")

# assess the files contained in the .zip file which
# unzips as a folder named "diary14"
list.files("diary14")
##  [1] "dtbd141.csv" "dtbd142.csv" "dtbd143.csv" "dtbd144.csv" "dtid141.csv"
##  [6] "dtid142.csv" "dtid143.csv" "dtid144.csv" "expd141.csv" "expd142.csv"
## [11] "expd143.csv" "expd144.csv" "fmld141.csv" "fmld142.csv" "fmld143.csv"
## [16] "fmld144.csv" "memd141.csv" "memd142.csv" "memd143.csv" "memd144.csv"

# alternatively, if we know the file we want prior to unzipping
# we can extract the file without unzipping using unz():
zip_data <- read.csv(unz("dataset.zip", "diary14/expd141.csv"))
zip_data[1:5, 1:10]
```



   NEWID   ALLOC   COST   GIFT   PUB_FLAG      UCC   EXPNSQDY  EXPN_QDY    EXPNWKDY  EXPN_KDY 
--------  ------  -----  -----  ---------  -------  ---------  ---------  ---------  ---------
 2825371       0   6.26      2          2   190112          1  D                  3  D        
 2825371       0   1.20      2          2   190322          1  D                  3  D        
 2825381       0   0.98      2          2    20510          3  D                  2  D        
 2825381       0   0.98      2          2    20510          3  D                  2  D        
 2825381       0   2.50      2          2    20510          3  D                  2  D        

The .zip archive file format is meant to compress files and are typically used on files of significant size.  For instance, the Consumer Expenditure Survey data we downloaded in the previous example is over 10MB.  Obviously there may be times in which we want to get specific data in the .zip file to analyze but not always permanently store the entire .zip file contents. In these instances we can use the following [process](http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data) proposed by [Dirk Eddelbuettel](https://twitter.com/eddelbuettel) to temporarily download the .zip file, extract the desired data, and then discard the .zip file.


```r
# Create a temp. file name
temp <- tempfile()

# Use download.file() to fetch the file into the temp. file
download.file("http://www.bls.gov/cex/pumd/data/comma/diary14.zip",temp)

# Use unz() to extract the target file from temp. file
zip_data2 <- read.csv(unz(temp, "diary14/expd141.csv"))

# Remove the temp file via unlink()
unlink(temp)

zip_data2[1:5, 1:10]
```



   NEWID   ALLOC   COST   GIFT   PUB_FLAG      UCC   EXPNSQDY  EXPN_QDY    EXPNWKDY  EXPN_KDY 
--------  ------  -----  -----  ---------  -------  ---------  ---------  ---------  ---------
 2825371       0   6.26      2          2   190112          1  D                  3  D        
 2825371       0   1.20      2          2   190322          1  D                  3  D        
 2825381       0   0.98      2          2    20510          3  D                  2  D        
 2825381       0   0.98      2          2    20510          3  D                  2  D        
 2825381       0   2.50      2          2    20510          3  D                  2  D        

One last common scenario I'll cover when importing spreadsheet data from online is when we identify multiple data sets that we'd like to download but are not centrally stored in a .zip format or the like. As a simple example lets look at the [average consumer price data](http://www.bls.gov/data/#prices) from the BLS. The BLS holds multiple data sets for different types of commodities within one [url](http://download.bls.gov/pub/time.series/ap/); however, there are separate links for each individual data set.  More complicated cases of this will have the links to tabular data sets scattered throughout a webpage[^auto1]. The [`XML`](https://cran.r-project.org/web/packages/XML/index.html) package provides the useful `getHTMLLinks()` function to identify these links.


```r
library(XML)

# url hosting multiple links to data sets
url <- "http://download.bls.gov/pub/time.series/ap/"

# identify the links available
links <- getHTMLLinks(url)

links
##  [1] "/pub/time.series/"                           
##  [2] "/pub/time.series/ap/ap.area"                 
##  [3] "/pub/time.series/ap/ap.contacts"             
##  [4] "/pub/time.series/ap/ap.data.0.Current"       
##  [5] "/pub/time.series/ap/ap.data.1.HouseholdFuels"
##  [6] "/pub/time.series/ap/ap.data.2.Gasoline"      
##  [7] "/pub/time.series/ap/ap.data.3.Food"          
##  [8] "/pub/time.series/ap/ap.footnote"             
##  [9] "/pub/time.series/ap/ap.item"                 
## [10] "/pub/time.series/ap/ap.period"               
## [11] "/pub/time.series/ap/ap.series"               
## [12] "/pub/time.series/ap/ap.txt"
```

This allows us to assess which files exist that may be of interest.  In this case the links that we are primarily interested in are the ones that contain "data" in their name (links 4-7 listed above).  We can use the [`stringr`](https://cran.r-project.org/web/packages/stringr/index.html) package to extract these desired links which we will use to download the data.


```r
library(stringr)

# extract names for desired links and paste to url
links_data <- links[str_detect(links, "data")]

# paste url to data links to have full url for data sets
# use str_sub and regexpr to paste links at appropriate 
# starting point
filenames <- paste0(url, str_sub(links_data, start = regexpr("ap.data", links_data)))

filenames
## [1] "http://download.bls.gov/pub/time.series/ap/ap.data.0.Current"       
## [2] "http://download.bls.gov/pub/time.series/ap/ap.data.1.HouseholdFuels"
## [3] "http://download.bls.gov/pub/time.series/ap/ap.data.2.Gasoline"      
## [4] "http://download.bls.gov/pub/time.series/ap/ap.data.3.Food"
```

We can now proceed to develop a simple `for` loop function to download each data set. We store the results in a list which contains 4 items, one item for each data set.  Each list item contains the url in which the data was extracted from and the dataframe containing the downloaded data.  We're now ready to analyze these data sets as necessary. 


```r
# create empty list to dump data into
data_ls <- list()

for(i in 1:length(filenames)){
        url <- filenames[i]
        data <- read.delim(url)
        data_ls[[length(data_ls) + 1]] <- list(url=filenames[i], data=data)
}

str(data_ls)
## List of 4
##  $ :List of 2
##   ..$ url : chr "http://download.bls.gov/pub/time.series/ap/ap.data.0.Current"
##   ..$ data:'data.frame':	144712 obs. of  5 variables:
##   .. ..$ series_id     : Factor w/ 878 levels "APU0000701111    ",..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. ..$ year          : int [1:144712] 1995 1995 1995 1995 1995 1995 1995 1995 1995 1995 ...
##   .. ..$ period        : Factor w/ 12 levels "M01","M02","M03",..: 1 2 3 4 5 6 7 8 9 10 ...
##   .. ..$ value         : num [1:144712] 0.238 0.242 0.242 0.236 0.244 0.244 0.248 0.255 0.256 0.254 ...
##   .. ..$ footnote_codes: logi [1:144712] NA NA NA NA NA NA ...
##  $ :List of 2
##   ..$ url : chr "http://download.bls.gov/pub/time.series/ap/ap.data.1.HouseholdFuels"
##   ..$ data:'data.frame':	90339 obs. of  5 variables:
##   .. ..$ series_id     : Factor w/ 343 levels "APU000072511     ",..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. ..$ year          : int [1:90339] 1978 1978 1979 1979 1979 1979 1979 1979 1979 1979 ...
##   .. ..$ period        : Factor w/ 12 levels "M01","M02","M03",..: 11 12 1 2 3 4 5 6 7 8 ...
##   .. ..$ value         : num [1:90339] 0.533 0.545 0.555 0.577 0.605 0.627 0.656 0.709 0.752 0.8 ...
##   .. ..$ footnote_codes: logi [1:90339] NA NA NA NA NA NA ...
##  $ :List of 2
##   ..$ url : chr "http://download.bls.gov/pub/time.series/ap/ap.data.2.Gasoline"
##   ..$ data:'data.frame':	69357 obs. of  5 variables:
##   .. ..$ series_id     : Factor w/ 341 levels "APU000074712     ",..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. ..$ year          : int [1:69357] 1973 1973 1973 1974 1974 1974 1974 1974 1974 1974 ...
##   .. ..$ period        : Factor w/ 12 levels "M01","M02","M03",..: 10 11 12 1 2 3 4 5 6 7 ...
##   .. ..$ value         : num [1:69357] 0.402 0.418 0.437 0.465 0.491 0.528 0.537 0.55 0.556 0.558 ...
##   .. ..$ footnote_codes: logi [1:69357] NA NA NA NA NA NA ...
##  $ :List of 2
##   ..$ url : chr "http://download.bls.gov/pub/time.series/ap/ap.data.3.Food"
##   ..$ data:'data.frame':	122302 obs. of  5 variables:
##   .. ..$ series_id     : Factor w/ 648 levels "APU0000701111    ",..: 1 1 1 1 1 1 1 1 1 1 ...
##   .. ..$ year          : int [1:122302] 1980 1980 1980 1980 1980 1980 1980 1980 1980 1980 ...
##   .. ..$ period        : Factor w/ 12 levels "M01","M02","M03",..: 1 2 3 4 5 6 7 8 9 10 ...
##   .. ..$ value         : num [1:122302] 0.203 0.205 0.211 0.206 0.207 0.21 0.214 0.215 0.214 0.212 ...
##   .. ..$ footnote_codes: logi [1:122302] NA NA NA NA NA NA ...
```

These examples provide the basics required for downloading most tabular and Excel files from online. However, this is just the beginning (and likely the least frustrating) aspect of importing/scraping data from mthe web.  Next, I'll cover how to import data contained in HTML tables.

<small><a href="#">Go to top</a></small>

<br>

[^auto2]: In [*Automated Data Collection with R*](http://www.amazon.com/Automated-Data-Collection-Practical-Scraping/dp/111883481X/ref=pd_sim_14_1?ie=UTF8&dpID=51Tm7FHxWBL&dpSrc=sims&preST=_AC_UL160_SR108%2C160_&refRID=1VJ1GQEY0VCPZW7VKANX) Munzert et al. state that "[t]he first way to get data from the web is almost too banal to be considered here and actually not a case of web scraping in the narrower sense."

[^auto1]: An example is provided in [*Automated Data Collection with R*](http://www.amazon.com/Automated-Data-Collection-Practical-Scraping/dp/111883481X/ref=pd_sim_14_1?ie=UTF8&dpID=51Tm7FHxWBL&dpSrc=sims&preST=_AC_UL160_SR108%2C160_&refRID=1VJ1GQEY0VCPZW7VKANX) in which they use a similar approach to extract desired CSV files scattered throughout the [Maryland State Board of Elections website](http://www.elections.state.md.us/elections/2012/election_data/index.html).
